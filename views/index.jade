extends layout

block content
  if !loginUser
    section.signin
      .dialog
        form.ui-component(action="/login" method="post")
          div.userid.ui-block
            label.ui-component(id="username") ユーザーネーム
            input.ui-component(type="text" name="username" for="username" placeholder="username")
          div.password.ui-block
            label.ui-component パスワード
            input.ui-component(type="password" name="password" placeholder="password")
          div.ui-block
            button.ui-component(type="submit") ログイン
    section.about
      .container
        .head-component
          h1 About
            span このサービスについて
        .read 
          |このサービスは、会員専用のためご利用にはログインが必要です。
          |また、現在開発中のため、動作や見た目が変わります。
  else
    section.date
      .holder
        .block.today
          a.ui-component(href="/") 本日
        .block.present
          .holder
            .nav.prev 
              a(href="/?year=#{date.year}&month=#{date.month}&day=#{date.day - 1}")
                i.fas.fa-chevron-left.fa-lg
            .text
              span.num #{date.year}
              span.unit 年
              span.num #{date.month}
              span.unit 月
              span.num #{date.day}
              span.unit 日
              span.unit (
              span.dayofweek #{date.dayOfWeekString}
              span.unit )
            .nav.next 
              a(href="/?year=#{date.year}&month=#{date.month}&day=#{date.day + 1}")
                i.fas.fa-chevron-right.fa-lg
        .block.select
          a(href="/")
            i.fas.fa-calendar-alt.fa-2x
    - var hasOffice = offices.length > 0 
    if hasOffice
      section.office
        .container
          .office-list
            each office in offices
              .box
                .information
                  .photo
                    img(src="#{office.imgPath}" class="responsive-img")
                  .name #{office.officename}
                .data
                  - var spaces = officeSpaceObject[office.officeId]
                  if spaces
                    ul.space-list
                      each space in spaces
                        li.space.clearfix
                          .information.clearfix
                            .name #{space.spacename}
                            .capacity
                              |最大
                              span #{space.capacity}
                              |名
                          if space.periods
                            .reservation
                              each period in space.periods
                                .period(class="num-#{period.num}")
                                  .time #{period.periodname}
                                  if period.availability
                                    a.status.available(href="/reserve/space/#{space.spaceId}/period/#{period.num}/year/2019/month/04/day/01") &#9675;
                                  else
                                    .status.unavailable &#10005;
